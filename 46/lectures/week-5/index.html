<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Week 5 Lecture Notes, FEWD 46</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../css/lectures.css" media="screen" charset="utf-8">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="../../js/lectures.js"></script>
  </head>
  <body>
    <nav><script>$("nav").load("../../partials/navigation.html");</script></nav>

    <main class="container">
      <h1>Week 5</h1>

      <h3>Table of Contents</h3>

      <ol>
        <li><a href="#inventory">Taking Inventory</a></li>
        <li><a href="#arrays">Arrays</a>
        <li><a href="#debugging">Debugging</a></li>
      </ol>

      <h3>Resources</h3>

      <ul>
        <li><a href="http://learnrubythehardway.org/book/intro.html" target="_blank">Programming Is Hard</a></li>
        <li><a href="https://docs.google.com/forms/d/e/1FAIpQLSfo61mGirnFjzXOaxdJy4TnJGIjSK5rFAYdH3isAScTCkAmfA/viewform" target="_blank">Exit Ticket</a></li>
      </ul>

      <h2 id="taking-inventory">Taking Inventory</h2>

      <p>
        Before we go any further, let's take stock of the functions and objects we currently know about.
      </p>

      <h3>Built-in Functions</h3>

      <p>
        These functions are pre-defined for us by browsers and available for us to use.
      </p>

      <table class="table">
        <thead>
          <tr>
            <th>Usage</th>
            <th>Description</th>
            <th>Output</th>
          </tr>
        </thead>
        <tr>
          <td><code>alert(message)</code></td>
          <td>
            <p>
              Displays a message to the user.
            </p>

            <p>
              For example:<br>
              <code>alert("Congrats! You're visitor 1,000.");</code>
            </p>
          </td>
          <td>
            <code>undefined</code>
          </td>
        </tr>
        <tr>
          <td><code>prompt(message)</code></td>
          <td>
            <p>
              Displays a message to the user and asks them for input.
            </p>

            <p>
              For example:<br>
              <code>var age = prompt("How old are you?");</code>
            </p>
          </td>
          <td>
            String
          </td>
        </tr>
        <tr>
          <td><code>parseInt(string)</code></td>
          <td>
            <p>
              Converts a string value into a whole number.
            </p>

            <p>
              For example:<br>
              <code>var n = parseInt("123");</code>
            </p>
          </td>
          <td>
            Whole number (integer) or <code>NaN</code>
          </td>
        </tr>
        <tr>
          <td><code>parseFloat(string)</code></td>
          <td>
            <p>
              Converts a string value into a decimal number.
            </p>

            <p>
              For example:<br>
              <code>var pi = parseFloat("3.14");</code>
            </p>
          </td>
          <td>
            Decimal number (float) or <code>NaN</code>
          </td>
        </tr>
      </table>

      <h3>String</h3>

      <p>
        A string is a sequence of characters. We use them in code to represent names of CSS selectors or event names. But they can also store data or be used to construct content for the page. Here are a couple things strings can do but for a complete list, please reference the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/" target="_blank">MDN</a>.
      </p>

      <p>
        Note that <code>string</code> below represents <em>any</em> string or variable with a string value. You could make these examples work by declare a variable like <code>var string = "something";</code>.
      </p>

      <table class="table">
        <thead>
          <tr>
            <th>Usage</th>
            <th>Description</th>
            <th>Output</th>
          </tr>
        </thead>
        <tr>
          <td><code>string.length</code></td>
          <td>
            <p>
              Retrieves the length of a the <code>string</code>.
            </p>

            <p>
              For example:<br>
              <code>"apple".length</code>
            </p>
          </td>
          <td>
            Integer
          </td>
        </tr>
        <tr>
          <td><code>string.split(delimiter)</code></td>
          <td>
            <p>
              Breaks up a string on a given delimiter.
            </p>

            <p>
              For example:<br>
              <code>var fruits = "apples,bananas,oranges".split(",");</code>
            </p>
          </td>
          <td>
            Array
          </td>
        </tr>
        <tr>
          <td><code>string + string</code></td>
          <td>
            <p>
              Concatenates (string addition) two strings together.
            </p>

            <p>
              For example:<br>
              <code>"evil" + "olive"</code>
            </p>
          </td>
          <td>
            String
          </td>
        </tr>
      </table>

      <h3>Document</h3>

      <p>
        The <code>document</code> is a special object that is also available for us when developing for a browser. It has a few very useful properties and methods:
      </p>

      <table class="table">
        <thead>
          <tr>
            <th>Usage</th>
            <th>Description</th>
            <th>Output</th>
          </tr>
        </thead>
        <tr>
          <td><code>document.title</code></td>
          <td>
            <p>
              Retrieves the title of the current webpage.
            </p>
          </td>
          <td>
            String
          </td>
        </tr>
        <tr>
          <td><code>document.domain</code></td>
          <td>
            <p>
              Retrieves the domain name of the current webpage.
            </p>
          </td>
          <td>
            String
          </td>
        </tr>
        <tr>
          <td><code>document.querySelector(selector)</code></td>
          <td>
            <p>
              Retrieves a particular element on the webpage that matches a given CSS selector.
            </p>

            <p>
              For example:<br>
              <code>var p = document.querySelector("p");</code><br>
              <code>var lastItem = document.querySelector("li:last-child");</code>
            </p>
          </td>
          <td>
            Element
          </td>
        </tr>
        <tr>
          <td><code>document.createElement(tagName)</code></td>
          <td>
            <p>
              Creates a new empty element given tag name. This new element does not exist in the document.
            </p>

            <p>
              For example:<br>
              <code>var li = document.createElement("li");</code>
            </p>
          </td>
          <td>
            Element
          </td>
        </tr>
      </table>

      <h3>Elements</h3>

      <p>
        Without elements, you wouldn't be able to do much to a webpage. So being able to interact with them in JS is critical. Fortunately, elements can do a lot.
      </p>

      <table class="table">
        <thead>
          <tr>
            <th>Usage</th>
            <th>Description</th>
            <th>Output</th>
          </tr>
        </thead>
        <tr>
          <td><code>element.textContent</code></td>
          <td>
            <p>
              The contents of an element (everything between the opening and closing tag).
            </p>

            <p>
              Can be used to get the text of an existing element, for example:<br>
              <code>var text = document.querySelector("p").textContent</code>
            </p>

            <p>
              Can also be used to set the text of an element. For example:<br>
              <code>document.querySelector(".notice").textContent = "Times up!"</code>
            </p>
          </td>
          <td>
            String
          </td>
        </tr>
        <tr>
          <td><code>element.value</code></td>
          <td>
            <p>
              The value of an <code>&lt;input&gt;</code>, <code>&lt;select&gt;</code>, or <code>&lt;textarea&gt;</code>. Does not apply to paragraphs or any other element with a closing tag.
            </p>

            <p>
              For example:<br>
              <code>var s = document.querySelector("input").value</code>
            </p>
          </td>
          <td>
            String
          </td>
        </tr>
        <tr>
          <td><code>element.addEventListener(eventType, handler)</code></td>
          <td>
            <p>
              Call the given <code>handler</code> function <em>when</em> an event of type <code>eventType</code> fires.
            </p>

            <p>
              For example:<br>
              <code>button.addEventListener("click", startGame)</code>
            </p>
          </td>
          <td>
            <code>undefined</code>
          </td>
        </tr>
        <tr>
          <td><code>element.appendChild(childElement)</code></td>
          <td>
            <p>
              Make one element a child of another. Always call this method on the parent and pass in the child.
            </p>
          </td>
          <td>
            <code>undefined</code>
          </td>
        </tr>
        <tr>
          <td><code>element.setAttribute(name, value)</code></td>
          <td>
            <p>
              Set the <code>name</code> attribute of an element to a <code>value</code>.
            </p>

            <p>
              For example:<br>
              <code>img.setAttribute("src", "logo.jpg")</code>
            </p>
          </td>
          <td>
            <code>undefined</code>
          </td>
        </tr>
        <tr>
          <td><code>element.getAttribute(name)</code></td>
          <td>
            <p>
              Retrieve the value of an attribute by <code>name</code>.
            </p>

            <p>
              For example:<br>
              <code>var destination = anchor.getAttribute("href")</code>
            </p>
          </td>
          <td>
            <code>String</code>
          </td>
        </tr>
        <tr>
          <td><code>element.removeAttribute(name)</code></td>
          <td>
            <p>
              Removes an attribute from an element.
            </p>

            <p>
              For example:<br>
              <code>img.removeAttribute("alt")</code>
            </p>
          </td>
          <td>
            <code>undefined</code>
          </td>
        </tr>
        <tr>
          <td><code>element.classList.add(className)</code></td>
          <td>
            <p>
              Add a CSS class to an element. This method does not define the CSS rule. It simply allows the element to take on any matching rules in your stylesheets.
            </p>

            <p>
              This is almost equivalent to <code>element.setAttribute("class", className)</code> but accounts for elements that have many classes.
            </p>
          </td>
          <td>
            <code>undefined</code>
          </td>
        </tr>
        <tr>
          <td><code>element.classList.remove(className)</code></td>
          <td>
            <p>
              Removes a CSS class from an element.
            </p>
          </td>
          <td>
            <code>undefined</code>
          </td>
        </tr>
        <tr>
          <td><code>element.classList.toggle(className)</code></td>
          <td>
            <p>
              Adds the class if the element doesn't have it. Removes the class if it is already there.
            </p>

            <p>
              Great for expanding or collapsing a menu.
            </p>

            <p>
              For example:<br>
              <code>menu.toggleClass("expanded");</code>
            </p>
          </td>
          <td>
            Boolean
          </td>
        </tr>
      </table>

      <h3>Event</h3>

      <p>
        We've even seen the Event object here and there, mostly as a way to prevent the default behavior of built-in events like form submissions and link clicks.
      </p>

      <table class="table">
        <thead>
          <tr>
            <th>Usage</th>
            <th>Description</th>
            <th>Output</th>
          </tr>
        </thead>
        <tr>
          <td><code>event.target</code></td>
          <td>
            <p>
              A reference to the element that triggered an event. Especially useful when multiple events share one event handler.
            </p>
          </td>
          <td>
            Element
          </td>
        </tr>
        <tr>
          <td><code>event.timeStamp</code></td>
          <td>
            <p>
              Returns the time (in milliseconds) at which the event occurred.
            </p>
          </td>
          <td>
            Integer
          </td>
        </tr>
        <tr>
          <td><code>event.preventDefault()</code></td>
          <td>
            <p>
              Tells the browser to <em>skip</em> the default behavior for an event. For example, if you call this method within an event handler for the click of a link, the browser would not follow that link.
            </p>
          </td>
          <td>
            Integer
          </td>
        </tr>
      </table>

      <p>
        Before moving on, you should make sure you understand how all these properties and methods behave.
      </p>

      <h2 id="arrays">Arrays</h2>

      <p>
        Now, it's time to add another object to our repertoire.
      </p>

      <p>
        So far we've only dealt with one object at a time. We have accessed multiple elements from the DOM but only one at a time—one variable for each element. That only gets us so far. In order to really cook with gas we need to be able to deal with collections of things. And JS, like many other programming languages, has an Array object to do just that.
      </p>

      <p>
        An Array (I titleize it because I'm referring to the class) simply represents a collection of other objects. It grows and shrinks as you add or remove objects. It always knows how many objects it contains and keeps track of them with a numerical index starting at zero. So the first object in an array is the "zeroth" one, the second is the "first," and so on.
      </p>

      <p>
        Arrays are so common in JS that you can declare them with an <em class="vocab">object literal</em>, just like you can a string. Except, unlike using <code>""</code> for a string, we'll use <code>[]</code> to make an array. Then we'll use the <code>push()</code> and <code>pop()</code> methods to add and remove objects to and from the collection. You can inquire about the object at any position with the bracket syntax too.
      </p>

      <script src="https://gist.github.com/avand/7661163c2ae2273b77e35e04877dceb2.js"></script>

      <p>
        This is the first time you're seeing <em class="vocab">bracket notation</em>. When you write <code>array[1]</code> you're actually asking the array for it's <code>1</code> property. Think about that for a second. You ask the array's <code>length</code> by writing <code>array.length</code>. Well, theoretically you could ask for the <code>1</code> property in the same way: <code>array.1</code>. But that would violate the JS variable naming rules—you can't start a property, function, argument, or variable with a number. But you could access the length of the array with bracket notation: <code>array["length"]</code>. We don't do that frequently, but it's a nice connection to make. The elements of an array are simply properties of the array object!
      </p>

      <p>
        Another interesting connection is that strings are actually implemented as arrays too. What do you get when you punch <code>"apple"[1]</code> into your console? You should get <code>"p"</code>. A string is just an array of characters!
      </p>

      <h3>Loops</h3>

      <p>
        Arguably the most important thing to be able to do with an array is to loop through the items in it. Why? Well, imagine you have a movie search engine. Someone types in "doubtfire" and your program goes to a database and returns an array of search results. You want to list them all on screen for the user to pick. The code to do that has to (a) create an element, (b) set the text content, and (c) add that element to the page. That's at least three steps (although you should be able to anticipate that it's going to be more than just three lines of code). It would really stink to have to repeat all those steps for every result, right?!
      </p>

      <p>
        Consider the following program:
      </p>

      <script src="https://gist.github.com/avand/f7c2a80a29063244984f134b74062cb8.js"></script>

      <p>
        The key to this script is understanding <code>array.forEach()</code>. This function takes a function as its one and only argument, similar to how <code>element.addEventListener()</code> works. <code>forEach()</code> is the array's function and since the array knows about each and every item in its collection, it simply calls the function you specify once for in every object in the array. We call this function a <em class="vocab">callback function</em> because you aren't calling it directly. And when your function, in this case <code>createTodoItem()</code> is called, how does it know <em>which</em> todo to create? Well, when the time comes <code>forEach()</code> calls your function and passes in the "current" object. It also passes in the index of that object as a second (optional) parameter.
      </p>

      <p>
        Here's another way to think about it. If you want to loop through an array and do something to every object in the collection, just write a function that performs does what you want to <em>one</em> of those objects. If you have an array of cars, maybe you want a <code>startCar()</code> function. Or if you have an array of movies maybe you want a <code>listMovie()</code> function. And this function, that acts on one object, must take that singular object in as a named argument.
      </p>

      <script src="https://gist.github.com/avand/47a0b21a018ed80f3b7454e571931028.js"></script>

      <p>
        Notice: the arguments to the callback function <code>startCar()</code> and <code>listMovie()</code> are the singular form of the array name. Arrays typically are plural nouns (cars, users, movies, etc.). The function that <code>forEach()</code> calls takes the singular form as an argument. This isn't a rule, just a good convention to follow that will make your code easier to understand.
      </p>

      <div class="you-do">
        <p>
          Using <a href="https://gist.github.com/avand/e830a86659d1861625144e10ceba7bcc" target="_blank">this code</a> as a starting point, add every item in the array to the list with JS. Then change the number in the paragraph to reflect the length of the array.
        </p>
      </div>

      <h2 id="debugging">Debugging</h2>

      <p>
        Now that you know enough to be dangerous, let's explore a few techniques to get yourself out of a jam, when you're stuck.
      </p>

      <h3>Errors</h3>


      <p>
        The first thing you should do when running your code in a browser is open up your developer tools. In Chrome, type <kbd><kbd>cmd</kbd> + <kbd>opt</kbd> + <kbd>J</kbd></kbd> to open up your JS console.
      </p>

      <h4>Syntax Errors</h4>

      <a href="images/syntax-error.png" target="_blank">
        <img src="images/syntax-error.png" alt="syntax error" class="supporting-image" />
      </a>

      <p>
        If you see a red circle with an "x" through it, followed by a number, without even trying your program, you know there's something wrong.
      </p>

      <p>
        The error should give you a line number. In the example to the right it says "piano.html:8". That means the error is on line 8 of that file.
      </p>

      <p>
        Syntax errors are usually pretty easy to spot. Practice good indentation to spot them more easily and avoid mistakes.
      </p>

      <h4>Type Errors</h4>

      <p>
        Here's an error: "Cannot read property 'addEventListener' of null." What does it mean?
      </p>

      <h3>Console</h3>

      <p>
        You may not be dealing with an error but instead trying to figure out why your program isn't working. It can be hard to solve these problems because you're not seeing any errors.
      </p>

      <p>
        Start with an <em class="vocab">assertion</em>. An good assertion is something like, "when I click this button, I expect to see a new div appear on the page." A bad assertion is something like, "it should work." Sometimes an assertion can even be, "when I click this button, I should see an error."
      </p>

      <p>
        The console helps you test your assertions.
      </p>

      <p>
        Looking at an example: like button with count++.
      </p>

      <h3>Debugger</h3>


    </main>
  </body>
</html>
